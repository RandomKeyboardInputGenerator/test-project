<div class="layout">
    <div class="top">
        <div class="top-nav-row clear">
            <button class="back-button">&lt;</button>
            <div class="q-title">{{ dic.questionsTitle }}</div>
            <button class="add-button">&#43;</button>
            <div class="q-radio">
                <form #f="ngForm">
                    <input class="q-radio-input" type="radio" value="my" name="questions" id="myself" [(ngModel)]="questions" /> <label for="myself">{{ dic.radioMyself }}</label>
                    <input class="q-radio-input" type="radio" value="all" name="questions" id="allquestions" [(ngModel)]="questions" /> <label for="allquestions">{{ dic.radioAll }}</label>
                </form>
            </div>
            <div class="q-sort">
                {{ dic.sortByDesc[0] }}
                <span [class.q-sort-link]="selected !== 'recent'" [class.q-sort-link-active]="selected === 'recent'" (click)="click($event)">{{ dic.sortByRecent }}</span>
                {{ dic.sortByDesc[1] }}
                <span [class.q-sort-link]="selected !== 'hot'" [class.q-sort-link-active]="selected === 'hot'"  (click)="click($event)">{{ dic.sortByHot }}</span>
            </div>
        </div>
        <div class="top-search-row clear">
            <input class="q-search" type="text" name="search" title="search" placeholder="Search questions" [(ngModel)]="searchQuery"/>
            <button class="q-search-btn">{{ dic.searchBtn }}</button>
        </div>   
    </div>
    <div class="body" (window:resize)="onResize($event)">
        <div class="question" *ngFor="let q of qData | slice:0:3; index as _i;">
             <div class="question-row-title">
                <div class="question-avatar" (click)="openModal(q.author)">
                    <span class="glyphicon glyphicon-user"></span>
                </div>
                <div class="question-author">
                    <p><span class="question-author-name" (click)="openModal(q.author)">{{ q.author }}</span> <span style="color: grey;">{{ q.desc[1] }}</span></p>
                    <p><span>{{ q.title }}</span></p>
                </div>
            </div>
            <div class="question-tabs clear">
                <div class="question-asked">
                    <div class="question-asked-content">
                        <div class="com-avatar"></div>
                        <div class="question-com-footer">
                            <hr class="grey" />
                            <span>{{ q.desc[0] }}</span>
                        </div>
                        <div class="question-dot-empty">&#8226;</div>
                    </div>
                </div>
                <div class="question-count" *ngIf="questionComCount[_i]>0">
                    <div class="question-count-content">
                        <div class="count-desc">
                            <span>{{questionComCount[_i]}}</span>
                        </div>
                        <div class="question-count-footer">
                            <span>{{ dic.countComDesc }}</span>
                        </div>
                        <div class="count-dot-empty">&#8226;</div>
                    </div>
                </div>
                <div class="question-com" 
                     *ngFor="let c of q.comments | slice:0:visCom; index as _j;"
                     [class.col-1]="_j === 0" [class.col-2]="_j === 1" [class.col-3]="_j === 2" [class.col-4]="_j === 3"
                     >
                    <div class="question-com-content">
                        <div class="com-avatar" (click)="openModal(getComment(c).author)">
                            <span class="glyphicon glyphicon-user"></span>
                        </div>
                        <div class="question-com-footer">
                            <hr [class.black]="getComment(c).type === 'ANSWERED'" [class.grey]="getComment(c).type !== 'ANSWERED'" />
                            <span>{{ getComment(c).type }}</span>
                        </div>
                        <div [class.question-dot]="getComment(c).type === 'ANSWERED'" [class.question-dot-empty]="getComment(c).type !== 'ANSWERED'" >&#8226;</div>
                    </div>
                </div>
                <div class="question-info">
                    <p class="question-info-top"><span class="number">{{ q.relDis }}</span> {{ dic.relDis }}</p>
                    <p class="question-info-mid"><span class="number">{{ q.peerInv }}</span> {{ dic.peerInv }}</p>
                    <p class="question-info-bottom"><span class="number">{{ q.conv }}</span> {{ dic.conv }}</p>
                </div>
            </div>
        </div>
        <div class="question-load-more">
            <button class="button-link" (click)="showMoreQ()">{{ dic.loadMoreBtn }}</button>
        </div>
    </div>
</div>